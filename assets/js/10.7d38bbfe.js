(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{377:function(a,s,e){"use strict";e.r(s);var t=e(42),r=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"kubernetes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes"}},[a._v("#")]),a._v(" Kubernetes")]),a._v(" "),e("p",[a._v("O "),e("a",{attrs:{href:"https://kubernetes.io/",target:"_blank",rel:"noopener noreferrer"}},[e("code",[a._v("Kubernetes")]),e("OutboundLink")],1),a._v(" (K8s) é um software "),e("code",[a._v("Open Source")]),a._v(" utilizado para automatizar a implantação, o dimensionamento e o gerenciamento de aplicativos em contêiner.")]),a._v(" "),e("p",[a._v("O método de instalação padrão do kubernetes pode ser assustador para iniciantes, devido às várias etapas e configurações. Sabendo disso, escolhi outro software para ajudá-lo na instalação. O software é o "),e("a",{attrs:{href:"https://github.com/rancher/k3d",target:"_blank",rel:"noopener noreferrer"}},[e("code",[a._v("k3d")]),e("OutboundLink")],1),a._v(", que automatiza a criação de clusters k3s.")]),a._v(" "),e("p",[a._v("O "),e("a",{attrs:{href:"https://github.com/rancher/k3s",target:"_blank",rel:"noopener noreferrer"}},[a._v("k3s"),e("OutboundLink")],1),a._v(" é a distribuição Kubernetes mais leve criado, e mantido pela "),e("a",{attrs:{href:"https://rancher.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Rancher"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("p",[a._v("O k3d cria clusters k3s em contêineres. Isso significa que você pode ativar um cluster k3s de vários nós em uma única máquina usando a janela de encaixe.")]),a._v(" "),e("blockquote",[e("p",[a._v("Mais informações sobre "),e("code",[a._v("Kubernetes")]),a._v(", "),e("code",[a._v("k3d")]),a._v(", "),e("code",[a._v("k3s")]),a._v(" e "),e("code",[a._v("clusters")]),a._v(" serão fornecidas nas próximas seções.")])]),a._v(" "),e("h1",{attrs:{id:"instalacao"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#instalacao"}},[a._v("#")]),a._v(" Instalação")]),a._v(" "),e("p",[a._v("A instalação do k3d é feita através de um script de instalação, o comando será o mesmo para todas as distribuições abordadas neste tutorial.")]),a._v(" "),e("h2",{attrs:{id:"kubectl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubectl"}},[a._v("#")]),a._v(" Kubectl")]),a._v(" "),e("p",[a._v("Antes de instalar o "),e("code",[a._v("k3d")]),a._v(", precisamos da ferramenta "),e("code",[a._v("kubectl")]),a._v(", através desta ferramenta será possível acessar e controlar nosso cluster.")]),a._v(" "),e("p",[a._v("Os comandos serão os mesmos para todas as distros abordadas neste tutorial.")]),a._v(" "),e("h3",{attrs:{id:"comandos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#comandos"}},[a._v("#")]),a._v(" Comandos")]),a._v(" "),e("blockquote",[e("p",[a._v("Faça o download do binário")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("  "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -LO https://storage.googleapis.com/kubernetes-release/release/"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -s https://storage.googleapis.com/kubernetes-release/release/stable.txt"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("/bin/linux/amd64/kubectl\n")])])]),e("blockquote",[e("p",[a._v("Torne executável")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("  "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" +x ./kubectl\n")])])]),e("blockquote",[e("p",[a._v("Mover para alguma pasta incluída no "),e("code",[a._v("PATH")])])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("  "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" ./kubectl /usr/local/bin/kubectl\n")])])]),e("h1",{attrs:{id:"k3d"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#k3d"}},[a._v("#")]),a._v(" K3d")]),a._v(" "),e("p",[a._v("Os seguintes comandos vão instalar, configurar e testar um cluster k3d.")]),a._v(" "),e("p",[a._v("Os comandos serão os mesmos para todas as distros abordadas neste tutorial.")]),a._v(" "),e("h2",{attrs:{id:"comandos-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#comandos-2"}},[a._v("#")]),a._v(" Comandos")]),a._v(" "),e("blockquote",[e("p",[a._v("Instale a última versão")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("  "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -s https://raw.githubusercontent.com/rancher/k3d/master/install.sh "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])])]),e("blockquote",[e("p",[a._v("Crie um cluster")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("  k3d create cluster mycluster\n")])])]),e("blockquote",[e("p",[a._v("Exportar a variável KUBECONFIG")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("  "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KUBECONFIG")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("k3d get-kubeconfig --name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'k3s-default'")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v("\n")])])]),e("blockquote",[e("p",[a._v("Verifique o status do cluster")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("  kubectl cluster-info\n")])])]),e("h1",{attrs:{id:"pos-instalacao-opcional"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pos-instalacao-opcional"}},[a._v("#")]),a._v(" Pós-instalação "),e("code",[a._v("[OPCIONAL]")])]),a._v(" "),e("p",[a._v("Como, provavelmente, você não usará esse cluster muito cedo no tutorial, recomendo excluir o cluster e recriá-lo apenas na seção em que você aprenderá sobre os kubernetes. Para fazer isso, execute o seguinte comando.")]),a._v(" "),e("h2",{attrs:{id:"comando"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#comando"}},[a._v("#")]),a._v(" Comando")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("  k3d delete mycluster\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);